PRAGMA FOREIGN_KEYS = ON;

CREATE TABLE IF NOT EXISTS users{

	id INTEGER PRIMARY KEY AUTOINCREMENT,
	username VARCHAR(32) NOT NULL UNIQUE,
	password VARCHAR(255) NOT NULL,
	email VARCHAR(255) NOT NULL UNIQUE,
	created_at DATETIME NOT NULL,
	updated_at DATETIME NOT NULL,
};

CREATE TABLE IF NOT EXISTS profiles{


	id INTEGER PRIMARY KEY AUTOINCREMENT,
	user_id INTEGER NOT NULL,
	name VARCHAR(255),
	last_name VARCHAR(255),
	photo_path VARCHAR(255),
	about TEXT,
	FOREIGN KEY (user_id) PREFERENCES users(id)

};

INSERT INTO profiles
(SELECT name
from profiles where name = 'Daniiar')

select * from profiles;


UPDATE profiles
SET name = name + last_name
WHERE last_name = (SELECT last_name FROM profiles WHERE last_name = 'Arkabaev')


DELETE FROM profiles
WHERE last_name = (SELECT last_name FROM profiles WHERE last_name is null);
